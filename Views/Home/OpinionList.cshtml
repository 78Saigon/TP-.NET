
@model TPLOCAL1.Models.Opinion
@using TPLOCAL1.Models;

@{
    OpinionList _opinionClass = new OpinionList();    
    List<Opinion> OpinionList = _opinionClass.GetAvis("XlmFile/DataAvis.xml");
}

<html>

    <head>
        <title>Liste des avis</title>
        <link rel="stylesheet" href="~/resources/Index.css" />
    </head>

    <body>

        <header>
            <img src="~/resources/GroupeHN.png" class="image" alt="GroupeHN" />
            <h1>Liste des avis</h1>
        </header>

        <nav>
            <ul>
                <li><a href="/Home">Accueil</a></li>
                <li><a href="/Home/Index/Form">Formulaire</a></li>
            </ul>
        </nav>

        <section>
            <table>
                <caption>Liste</caption>
                <tr>
                    <td>Nom</td>
                    <td>Prénom</td>
                    <td>Avis donné</td>
                </tr>
                         

                @foreach (Opinion _opinion in OpinionList)
                {
                    <tr>
                        <td> @_opinion.LastName </td>
                        <td> @_opinion.FirstName </td>                  
                        @switch (_opinion.OpinionGiven)
                            {
                                case "O":
                                <td bgcolor="green"> Oui </td>                                                                                      
                                break;
                                case "N":
                                <td bgcolor="red"> Non </td>
                                break;
                                default:
                                <td> Erreur </td>
                                break;
                            }
                    

                    </tr>
                }
                                                      
            </table>

        </section>

    </body>

</html>